"0","library(dplyr)"
"0","library(lubridate)"
"0",""
"0","failed.nests <- vultures.clean |>"
"0","  mutate(year = year(ringing.date)) |>"
"0","  group_by(year) |>"
"0","  summarise("
"0","    active_nests  = n(),"
"0","    success_nests = sum(!is.na(laying.date)),      # successful = those with a laying date"
"0","    failed_nests  = active_nests - success_nests,"
"0","    success_prop  = success_nests / active_nests,"
"0","    .groups = ""drop"""
"0","  )"
"0",""
"0","ggplot(failed.nests, aes(year, success_prop)) +"
"0","  geom_line(color = ""#89c5d6"", linewidth = 1) +"
"0","  geom_point(color = ""#89c5d6"") +"
"0","  scale_y_continuous(limits = c(0, 1),"
"0","                     labels = scales::percent_format(accuracy = 1)) +"
"0","  labs(title = ""Proportion of Successful Nests per Year"","
"0","       x = ""Year"", y = ""Breeding success (%)"") +"
"0","  theme_bw() +"
"0","  theme(panel.grid = element_blank())"
"0",""
