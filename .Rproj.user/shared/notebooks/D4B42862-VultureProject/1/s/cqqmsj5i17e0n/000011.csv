"0","# Annual successes/failures"
"0","failed.nests <- vultures.clean |>"
"0","  mutate(year = year(ringing.date)) |>"
"0","  group_by(year) |>"
"0","  summarise("
"0","    active_nests  = n(),"
"0","    success_nests = sum(!is.na(laying.date)),"
"0","    failed_nests  = active_nests - success_nests,"
"0","    success_prop  = success_nests / active_nests,"
"0","    .groups = ""drop"""
"0","  )"
"0",""
"0","# Outcome visual"
"0","failed_nests_long <- failed.nests |>"
"0","  dplyr::select(year, success_nests, failed_nests) |>"
"0","  tidyr::pivot_longer("
"0","    cols = c(success_nests, failed_nests),"
"0","    names_to = ""outcome"","
"0","    values_to = ""count"""
"0","  )"
"0",""
"0","ggplot(failed_nests_long, aes(year, count, fill = outcome)) +"
"0","  geom_col() +"
"0","  scale_fill_manual(values = c(success_nests = ""#89c5d6"", failed_nests = ""grey70""),"
"0","                    labels = c(success_nests = ""Successful"", failed_nests = ""Failed"")) +"
"0","  scale_x_continuous(breaks = seq(min(failed.nests$year), max(failed.nests$year), 5)) +"
"0","  labs(title = ""Breeding outcomes per year"", x = ""Year"", y = ""Number of nests"", fill = ""Outcome"")"
"0",""
